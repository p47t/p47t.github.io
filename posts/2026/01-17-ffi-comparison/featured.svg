<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 675">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1b26;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#24283b;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="rustGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f7931e;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="cGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7dcfff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5a9fcc;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="bridgeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:0.8" />
      <stop offset="50%" style="stop-color:#bb9af7;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#7dcfff;stop-opacity:0.8" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1200" height="675" fill="url(#bgGradient)"/>

  <!-- Background pattern -->
  <g opacity="0.05">
    <line x1="0" y1="337.5" x2="1200" y2="337.5" stroke="#fff" stroke-width="2"/>
    <circle cx="300" cy="150" r="80" fill="none" stroke="#fff" stroke-width="2"/>
    <circle cx="900" cy="500" r="100" fill="none" stroke="#fff" stroke-width="2"/>
  </g>

  <!-- Left side: Rust -->
  <g transform="translate(150, 250)">
    <rect x="0" y="0" width="280" height="180" rx="12" fill="#2a2a3e" stroke="url(#rustGradient)" stroke-width="4"/>
    <!-- Rust logo simplified -->
    <circle cx="140" cy="60" r="35" fill="url(#rustGradient)"/>
    <circle cx="140" cy="60" r="22" fill="#1a1b26"/>
    <!-- Gear teeth -->
    <g fill="url(#rustGradient)">
      <rect x="134" y="20" width="12" height="15" rx="2"/>
      <rect x="134" y="85" width="12" height="15" rx="2"/>
      <rect x="102" y="54" width="15" height="12" rx="2"/>
      <rect x="163" y="54" width="15" height="12" rx="2"/>
    </g>

    <text x="140" y="125" font-family="sans-serif" font-size="24" fill="#ff9e64" text-anchor="middle" font-weight="bold">Rust</text>
    <text x="140" y="150" font-family="monospace" font-size="14" fill="#aaa" text-anchor="middle">Safe • Type-safe</text>
  </g>

  <!-- FFI Bridge (center) -->
  <g transform="translate(460, 300)">
    <!-- Bridge structure -->
    <rect x="0" y="0" width="280" height="80" rx="12" fill="url(#bridgeGradient)" opacity="0.9"/>

    <!-- FFI text -->
    <text x="140" y="35" font-family="monospace" font-size="28" fill="#ffffff" text-anchor="middle" font-weight="bold">FFI</text>
    <text x="140" y="58" font-family="sans-serif" font-size="14" fill="#e0e0e0" text-anchor="middle">Foreign Function Interface</text>

    <!-- Layers visualization -->
    <g transform="translate(10, -50)">
      <rect x="0" y="0" width="260" height="30" rx="6" fill="rgba(255, 158, 100, 0.2)" stroke="#ff9e64" stroke-width="2"/>
      <text x="130" y="20" font-family="monospace" font-size="12" fill="#ff9e64" text-anchor="middle">Manual Bindings</text>
    </g>

    <g transform="translate(10, -15)">
      <rect x="0" y="0" width="260" height="30" rx="6" fill="rgba(187, 154, 247, 0.2)" stroke="#bb9af7" stroke-width="2"/>
      <text x="130" y="20" font-family="monospace" font-size="12" fill="#bb9af7" text-anchor="middle">Bindgen (auto)</text>
    </g>

    <g transform="translate(10, 95)">
      <rect x="0" y="0" width="260" height="30" rx="6" fill="rgba(158, 206, 106, 0.2)" stroke="#9ece6a" stroke-width="2"/>
      <text x="130" y="20" font-family="monospace" font-size="12" fill="#9ece6a" text-anchor="middle">Safe Wrapper</text>
    </g>
  </g>

  <!-- Right side: C -->
  <g transform="translate(770, 250)">
    <rect x="0" y="0" width="280" height="180" rx="12" fill="#2a2a3e" stroke="url(#cGradient)" stroke-width="4"/>

    <!-- C symbol -->
    <text x="140" y="85" font-family="serif" font-size="72" fill="url(#cGradient)" text-anchor="middle" font-weight="bold">C</text>

    <text x="140" y="125" font-family="sans-serif" font-size="24" fill="#7dcfff" text-anchor="middle" font-weight="bold">C Library</text>
    <text x="140" y="150" font-family="monospace" font-size="14" fill="#aaa" text-anchor="middle">FFmpeg • libav</text>
  </g>

  <!-- Arrows showing data flow -->
  <g stroke="#bb9af7" stroke-width="3" fill="none" opacity="0.6">
    <!-- Rust to FFI -->
    <path d="M 430,340 L 460,340" marker-end="url(#arrowhead)"/>
    <!-- FFI to C -->
    <path d="M 740,340 L 770,340" marker-end="url(#arrowhead)"/>
  </g>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#bb9af7"/>
    </marker>
  </defs>

  <!-- Accent bar -->
  <rect x="50" y="50" width="120" height="4" fill="url(#rustGradient)" rx="2"/>

  <!-- Title -->
  <text x="600" y="110" font-family="Arial, Noto Sans TC, sans-serif" font-size="48" font-weight="bold" fill="#ffffff" text-anchor="middle">
    Rust FFI 完整指南
  </text>

  <!-- Subtitle -->
  <text x="600" y="150" font-family="Arial, sans-serif" font-size="24" fill="#ff9e64" text-anchor="middle">
    從手寫綁定到 AI 輔助的 Safe Wrapper
  </text>

  <!-- Key concepts boxes -->
  <g transform="translate(100, 500)">
    <g>
      <rect x="0" y="0" width="220" height="90" rx="8" fill="rgba(255, 107, 53, 0.15)" stroke="#ff9e64" stroke-width="2"/>
      <text x="110" y="25" font-family="sans-serif" font-size="13" fill="#ff9e64" text-anchor="middle" font-weight="bold">extern "C"</text>
      <text x="110" y="47" font-family="monospace" font-size="11" fill="#aaa" text-anchor="middle">Direct C bindings</text>
      <text x="110" y="65" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ Full control</text>
      <text x="110" y="80" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✗ Manual work</text>
    </g>

    <g transform="translate(250, 0)">
      <rect x="0" y="0" width="220" height="90" rx="8" fill="rgba(187, 154, 247, 0.15)" stroke="#bb9af7" stroke-width="2"/>
      <text x="110" y="25" font-family="sans-serif" font-size="13" fill="#bb9af7" text-anchor="middle" font-weight="bold">bindgen</text>
      <text x="110" y="47" font-family="monospace" font-size="11" fill="#aaa" text-anchor="middle">Auto-generated</text>
      <text x="110" y="65" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ Automated</text>
      <text x="110" y="80" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">⚠ Still unsafe</text>
    </g>

    <g transform="translate(500, 0)">
      <rect x="0" y="0" width="220" height="90" rx="8" fill="rgba(158, 206, 106, 0.15)" stroke="#9ece6a" stroke-width="2"/>
      <text x="110" y="25" font-family="sans-serif" font-size="13" fill="#9ece6a" text-anchor="middle" font-weight="bold">Safe Wrapper</text>
      <text x="110" y="47" font-family="monospace" font-size="11" fill="#aaa" text-anchor="middle">Idiomatic Rust API</text>
      <text x="110" y="65" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ Type-safe</text>
      <text x="110" y="80" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ RAII</text>
    </g>

    <g transform="translate(750, 0)">
      <rect x="0" y="0" width="220" height="90" rx="8" fill="rgba(125, 207, 255, 0.15)" stroke="#7dcfff" stroke-width="2"/>
      <text x="110" y="25" font-family="sans-serif" font-size="13" fill="#7dcfff" text-anchor="middle" font-weight="bold">AI-Assisted</text>
      <text x="110" y="47" font-family="monospace" font-size="11" fill="#aaa" text-anchor="middle">Best practices</text>
      <text x="110" y="65" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ Fast iteration</text>
      <text x="110" y="80" font-family="sans-serif" font-size="10" fill="#aaa" text-anchor="middle">✓ Less tedious</text>
    </g>
  </g>

  <!-- Tech tags -->
  <g transform="translate(600, 620)">
    <g transform="translate(-110, 0)">
      <rect x="-40" y="-18" width="80" height="36" rx="6" fill="rgba(255, 158, 100, 0.2)" stroke="#ff9e64" stroke-width="2"/>
      <text x="0" y="4" font-family="monospace" font-size="16" fill="#ff9e64" text-anchor="middle">Rust</text>
    </g>
    <g transform="translate(0, 0)">
      <rect x="-35" y="-18" width="70" height="36" rx="6" fill="rgba(125, 207, 255, 0.2)" stroke="#7dcfff" stroke-width="2"/>
      <text x="0" y="4" font-family="monospace" font-size="16" fill="#7dcfff" text-anchor="middle">FFI</text>
    </g>
    <g transform="translate(100, 0)">
      <rect x="-60" y="-18" width="120" height="36" rx="6" fill="rgba(187, 154, 247, 0.2)" stroke="#bb9af7" stroke-width="2"/>
      <text x="0" y="4" font-family="monospace" font-size="16" fill="#bb9af7" text-anchor="middle">bindgen</text>
    </g>
  </g>

  <!-- Blog branding -->
  <text x="1160" y="665" font-family="Arial, sans-serif" font-size="18" fill="rgba(255, 255, 255, 0.5)" text-anchor="end">
    blog.simplypatrick.com
  </text>
</svg>