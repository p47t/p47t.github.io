<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Simply Patrick </title>
    <link>https://blog.simplypatrick.com/tags/git/</link>
    <author>Patrick Tsai</author>
    <rights>Copyright (c) 2003 - 2016, Patrick Tsai; all rights reserved.</rights>
    <updated>2015-06-12 00:00:00 &#43;0000 UTC</updated>
    
    <item>
      <title>像專業人士一樣撰寫 Git Commit Message</title>
      <link>https://blog.simplypatrick.com/posts/2015/06-12-git-commit-message/</link>
      <pubDate>Fri, 12 Jun 2015 00:00:00 UTC</pubDate>
      <author>Patrick Tsai</author>
      <guid>https://blog.simplypatrick.com/posts/2015/06-12-git-commit-message/</guid>
      <description>&lt;h3 id=&#34;為什麼好的-commit-message-這麼重要&#34;&gt;為什麼好的 Commit Message 這麼重要？&lt;/h3&gt;
&lt;p&gt;每次看到亂七八糟的 git commit message，我都會覺得渾身不對勁。所謂的「亂七八糟」，我指的是這幾種情況：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;格式毫無章法，東一筆西一筆&lt;/li&gt;
&lt;li&gt;寫得太含糊，讓人看了也不知道改了什麼&lt;/li&gt;
&lt;li&gt;組織混亂，難以理解&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;好的 commit message 應該要簡潔、有條理、格式一致。寫好它當然要花點心力，但有幾個理由值得我們這樣做：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;就像程式碼一樣，commit message 寫一次但會被讀很多次。花時間寫好它是值得的。&lt;/li&gt;
&lt;li&gt;如果容許爛 commit message 存在，等於在傳達一個訊息：你不在乎程式碼的可維護性。這對建立良好的工程文化很不利。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Chris Beams 寫的 &lt;a href=&#34;http://chris.beams.io/posts/git-commit/&#34;&gt;How to Write a Git Commit Message&lt;/a&gt; 是我讀過關於這個主題最好的文章。Chris 很清楚地解釋了為什麼好的 commit message 很重要，以及該怎麼寫。你可以從這個範例看看好的 commit message 長什麼樣子：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;Summarize changes in around 50 characters or less

More detailed explanatory text, if necessary. Wrap it to about 72
characters or so. In some contexts, the first line is treated as the
subject of the commit and the rest of the text as the body. The
blank line separating the summary from the body is critical (unless
you omit the body entirely); various tools like `log`, `shortlog`
and `rebase` can get confused if you run the two together.

Explain the problem that this commit is solving. Focus on why you
are making this change as opposed to how (the code explains that).
Are there side effects or other unintuitive consequenses of this
change? Here&amp;#39;s the place to explain them.

Further paragraphs come after blank lines.

 - Bullet points are okay, too

 - Typically a hyphen or asterisk is used for the bullet, preceded
   by a single space, with blank lines in between, but conventions
   vary here

If you use an issue tracker, put references to them at the bottom,
like this:

Resolves: #123
See also: #456, #789&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;這個範本是基於著名的 &lt;a href=&#34;http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html&#34;&gt;Tim Pope&amp;rsquo;s Note About Git Commit Messages&lt;/a&gt;。&lt;/p&gt;
&lt;h3 id=&#34;大家都怎麼寫-commit-message&#34;&gt;大家都怎麼寫 Commit Message？&lt;/h3&gt;
&lt;p&gt;我不打算重複別人已經說過的東西。我想做的是蒐集一些真實世界的範例，看看可以從中學到什麼。&lt;/p&gt;
&lt;h4 id=&#34;linux&#34;&gt;&lt;a href=&#34;https://www.kernel.org/doc/Documentation/SubmittingPatches&#34;&gt;Linux&lt;/a&gt;&lt;/h4&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;subsurface&#34;&gt;&lt;a href=&#34;https://github.com/torvalds/subsurface/blob/master/README#L272&#34;&gt;Subsurface&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/torvalds/subsurface&#34;&gt;Subsurface&lt;/a&gt; 是 Linus Torvalds 開發的專案，他當然也是 Git 的創造者。以下是 Subsurface 開發者使用的格式：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;Header line: explain the commit in one line (use the imperative)

Body of commit message is a few lines of text, explaining things
in more detail, possibly giving some background about the issue
being fixed, etc etc.

The body of the commit message can be several paragraphs, and
please do proper word-wrap and keep columns shorter than about
74 characters or so. That way &amp;#34;git log&amp;#34; will show things
nicely even when it&amp;#39;s indented.

Make sure you explain your solution and why you&amp;#39;re doing what you&amp;#39;re
doing, as opposed to describing what you&amp;#39;re doing. Reviewers and your
future self can read the patch, but might not understand why a
particular solution was implemented.

Reported-by: whoever-reported-it
Signed-off-by: Your Name &amp;lt;youremail@yourhost.com&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果改動本身很簡單，好的 commit message 可以非常簡潔：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;Set proper mode for file open dialog

Fixes #913&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;如果有需要，也可以寫得很詳細：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;Planner: Count the minimum stop time towards o2time

When doing backgas breaks, count the minimum stop time towards o2time.
Previously, the initial minimum stop wasn&amp;#39;t counted, so the time of the first
segment on oxygen was min_switch_duration + 12 minutes.

E.g. with 1 minute minimum switch duration.

Previously:
depth   duration        runtime gas
40m     1min    1min    air
40m     34min   35min
21m     2min    37min
21m     1min    38min   EAN50
18m     1min    39min
15m     3min    42min
12m     4min    46min
9m      5min    51min
6m      13min   64min   oxygen      &amp;lt;--13 minutes on O2
6m      6min    70min   air
6m      2min    72min   oxygen
0m      1min    73min

Now:
depth       duration        runtime gas
40m 1min    1min    air
40m 34min   35min
21m 2min    37min
21m 1min    38min   EAN50
18m 1min    39min
15m 3min    42min
12m 4min    46min
9m  5min    51min
6m  12min   63min   oxygen
6m  6min    69min   air
6m  2min    71min   oxygen
0m  1min    72min

Signed-off-by: Rick Walsh &amp;lt;rickmwalsh@gmail.com&amp;gt;
Signed-off-by: Dirk Hohndel &amp;lt;dirk@hohndel.org&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;go&#34;&gt;&lt;a href=&#34;https://golang.org/doc/contribute.html&#34;&gt;Go&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;貢獻指南中給出了以下範例：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;math: improved Sin, Cos and Tan precision for very large arguments

The existing implementation has poor numerical properties for
large arguments, so use the McGillicutty algorithm to improve
accuracy above 1e10.

The algorithm is described at http://wikipedia.org/wiki/McGillicutty_Algorithm

Fixes #159&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;我其實很喜歡 Go 開發者使用的簡潔風格：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;fmt: don&amp;#39;t unread eof scanning %x

When scanning a hex byte at EOF, the code was ungetting the eof,
which backed up the input and caused double-scanning of a byte.

Delete the call to UnreadRune.

This line appeared in 1.5 for some reason; it was not in 1.4 and
should be removed again for 1.5

Fixes #12090.

Change-Id: Iad1ce8e7db8ec26615c5271310f4b0228cca7d78
Reviewed-on: https://go-review.googlesource.com/13461
Reviewed-by: Andrew Gerrand &amp;lt;adg@golang.org&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;這是另一個寫得很好的 &lt;a href=&#34;https://github.com/golang/go/commit/3ae17043f7f29f0d745aa35b340f8cab80219068&#34;&gt;commit message&lt;/a&gt;：&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;runtime: make sure heapBitsBulkBarrier cannot be preempted

Changes the torture test in #12068 from failing about 1/10 times
to not failing in almost 2,000 runs.

This was only happening in -race mode because functions are
bigger in -race mode, so a few of the helpers for heapBitsBulkBarrier
were not being inlined, and they were not marked nosplit,
so (only in -race mode) the write barrier was being preempted by GC,
causing missed pointer updates.

Filed issue #12069 for diagnosis of any other similar errors.

Fixes #12068.

Change-Id: Ic174d9b050ba278b18b08ab0d85a73c33bd5b175
Reviewed-on: https://go-review.googlesource.com/13364
Reviewed-by: Austin Clements &amp;lt;austin@google.com&amp;gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;llvm&#34;&gt;&lt;a href=&#34;http://llvm.org/docs/DeveloperPolicy.html#commit-messages&#34;&gt;LLVM&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;LLVM 開發者並不強制要求 commit message 的格式，但有提供一些指引。顯然他們沒有遵循 Git commit message 的風格，因為 LLVM 的主要版本庫還在用 Subversion。不過你還是可以在那裡找到很多寫得很好的 commit message。&lt;/p&gt;

  &lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-gitcommit&#34; data-lang=&#34;gitcommit&#34;&gt;x86: Emit LAHF/SAHF instead of PUSHF/POPF
NaCl&amp;#39;s sandbox doesn&amp;#39;t allow PUSHF/POPF out of security concerns (priviledged emulators have forgotten to mask system bits in the past, and EFLAGS&amp;#39;s DF bit is a constant source of hilarity). Commit r220529 fixed PR20376 by saving cmpxchg&amp;#39;s flags result using EFLAGS, this commit now generated LAHF/SAHF instead, for all of x86 (not just NaCl) because it leads to an overall performance gain over PUSHF/POPF.

As with the previous patch this code generation is pretty bad because it occurs very later, after register allocation, and in many cases it rematerializes flags which were already available (e.g. already in a register through SETE). Fortunately it&amp;#39;s somewhat rare that this code needs to fire.

I did [[ https://github.com/jfbastien/benchmark-x86-flags | a bit of benchmarking ]], the results on an Intel Haswell E5-2690 CPU at 2.9GHz are:

| Time per call (ms)  | Runtime (ms) | Benchmark                      |
| 0.000012514         |      6257    | sete.i386                      |
| 0.000012810         |      6405    | sete.i386-fast                 |
| 0.000010456         |      5228    | sete.x86-64                    |
| 0.000010496         |      5248    | sete.x86-64-fast               |
| 0.000012906         |      6453    | lahf-sahf.i386                 |
| 0.000013236         |      6618    | lahf-sahf.i386-fast            |
| 0.000010580         |      5290    | lahf-sahf.x86-64               |
| 0.000010304         |      5152    | lahf-sahf.x86-64-fast          |
| 0.000028056         |     14028    | pushf-popf.i386                |
| 0.000027160         |     13580    | pushf-popf.i386-fast           |
| 0.000023810         |     11905    | pushf-popf.x86-64              |
| 0.000026468         |     13234    | pushf-popf.x86-64-fast         |

Clearly `PUSHF`/`POPF` are suboptimal. It doesn&amp;#39;t really seems to be worth teaching LLVM about individual flags, at least not for this purpose.

Reviewers: rnk, jvoung, t.p.northover

Subscribers: llvm-commits

Differential revision: http://reviews.llvm.org/D6629

git-svn-id: https://llvm.org/svn/llvm-project/llvm/trunk@244503 91177308-0d34-0410-b5e6-96231b3b80d8&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;更多參考資料&#34;&gt;更多參考資料&lt;/h4&gt;
&lt;p&gt;以下是一些有提供 commit message 指引的專案列表：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#&#34;&gt;AngularJS&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/sparkbox/how_to/tree/master/style/git&#34;&gt;SparkBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://karma-runner.github.io/0.8/dev/git-commit-msg.html&#34;&gt;KARMA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://gist.github.com/Linell/bd8100c4e04348c7966d&#34;&gt;Linell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.typo3.org/CommitMessage_Format_(Git)&#34;&gt;Typo3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://netty.io/wiki/writing-a-commit-message.html&#34;&gt;Netty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mediawiki.org/wiki/Gerrit/Commit_message_guidelines&#34;&gt;MediaWiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://secure.phabricator.com/book/phabflavor/article/writing_reviewable_code/&#34;&gt;Phabricator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.openstack.org/wiki/GitCommitMessages&#34;&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/erlang/otp/wiki/Writing-good-commit-messages&#34;&gt;Erlang&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spring-projects/spring-framework/blob/30bce7/CONTRIBUTING.md?utm_campaign=CodeBaku&amp;amp;utm_medium=web&amp;amp;utm_source=CodeBaku_2#format-commit-messages&#34;&gt;Spring&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Git Workflow</title>
      <link>https://blog.simplypatrick.com/posts/2011/12-03-git-workflow/</link>
      <pubDate>Sat, 03 Dec 2011 00:00:00 UTC</pubDate>
      <author>Patrick Tsai</author>
      <guid>https://blog.simplypatrick.com/posts/2011/12-03-git-workflow/</guid>
      <description>&lt;p&gt;由於 git 要開分支很容易，但要怎麼運用分支來管理就是一門學問了。在網路上最常看到的是 &lt;a href=&#34;http://nvie.com/posts/a-successful-git-branching-model/&#34;&gt;Git Flow&lt;/a&gt;：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;git-flow-model.png&#34; alt=&#34;Git Flow branching model&#34;&gt;&lt;/p&gt;
&lt;p&gt;除了這個方式外，另外一種常用的方法是如 &lt;a href=&#34;http://schacon.github.com/git/gitworkflows.html&#34;&gt;git help workflows&lt;/a&gt; 所描述的。為了容易理解，我用 &lt;a href=&#34;http://pencil.evolus.vn/&#34;&gt;Pencil&lt;/a&gt; 畫了這張示意圖：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;workflow.png&#34; alt=&#34;Git workflow with maint, master, next, and pu branches&#34;&gt;&lt;/p&gt;
&lt;p&gt;雖然前後兩張圖用的 branch 的名稱及用途不大一樣，但有些基本道理是相同的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;平常只從穩定的分支 merge 到不穩定的分支。這裡的穩定及不穩定是相對的，例如第二張圖中 maint 比 master 穩定，而 master 又比 next 穩定；在第一張圖中，release 比 develop 穩定，hotfix 又比 develop 穩定。我說的 merge 是 git 中 branch to branch 的 merge，例如 merge A to B 是讓 branch A 所有的改動都合併到 branch B 中。&lt;/li&gt;
&lt;li&gt;在適當的時候可以從不穩定分支合併改動到穩定分支，例如第一張圖中的 developer -&amp;gt; release -&amp;gt; master 的合併，又例如第二張圖中的 next -&amp;gt; master -&amp;gt; maint。&lt;/li&gt;
&lt;li&gt;Bugfix 應該 check-in 到最舊且需要這個改動的分支，然後再根據上一條規則的作法傳佈到較新的分支上。這樣做可以確保不會有忘記 merge 的 bugfix。&lt;/li&gt;
&lt;li&gt;新 feature 都應該在獨立的分支中開發。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不管是用那一種方式，善用分支來管理產品的開發及產品發佈已經是個軟體開發人員必備的技能了，如果你還不熟悉，趕快找個機會把這些方法用到你目前正在做的工作上吧。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Git and SourceTree</title>
      <link>https://blog.simplypatrick.com/posts/2011/10-23-git-and-sourcetree/</link>
      <pubDate>Sun, 23 Oct 2011 00:00:00 UTC</pubDate>
      <author>Patrick Tsai</author>
      <guid>https://blog.simplypatrick.com/posts/2011/10-23-git-and-sourcetree/</guid>
      <description>&lt;p&gt;由於 Git 在 Linux/Windows 上都沒有比較好用的 GUI client，我向來是習慣直接在命令列敲指令，好處是簡單而且快，比較大的缺點就是瀏覽歷史記錄時比較麻煩，陽春又醜的 gitk 我通常是不得已才會去開它，所以換到 Mac OS X 上後，簡單好用而且開源的 &lt;a href=&#34;http://gitx.frim.nl/&#34;&gt;GitX&lt;/a&gt; 自然就成為我的最愛，但 GitX 的更新實在有點慢，愛嘗鮮的我便一直注意著是否有更好的選擇。&lt;/p&gt;
&lt;p&gt;後來有試用過 &lt;a href=&#34;http://www.git-tower.com/&#34;&gt;Tower&lt;/a&gt;，整個 UI 比 GitX 漂亮許多，使用設計上也相當不錯，正想說可以&amp;rsquo;定居&amp;rsquo;下來，沒想到中間殺出個 &lt;a href=&#34;http://www.sourcetreeapp.com/&#34;&gt;SourceTree&lt;/a&gt;，而且因為這個產品被 Atlassian 收購了，在 Mac App Store 正免費大放送中，估計之後會有跟 BitBucket 更緊密的功能整合。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;sourcetree.png&#34; alt=&#34;SourceTree App&#34;&gt;&lt;/p&gt;
&lt;p&gt;本來 Mac OS X 就是讓 programmer 感覺很舒服的開發環境，有了 SourceTree 之後變更棒了。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Git and Jun</title>
      <link>https://blog.simplypatrick.com/posts/2011/06-17-git-and-jun/</link>
      <pubDate>Fri, 17 Jun 2011 00:00:00 UTC</pubDate>
      <author>Patrick Tsai</author>
      <guid>https://blog.simplypatrick.com/posts/2011/06-17-git-and-jun/</guid>
      <description>&lt;p&gt;大家一般知道 &lt;a href=&#34;http://en.wikipedia.org/wiki/Git_(software)&#34;&gt;Git&lt;/a&gt; 的發明者是 Linus Torvalds，但是實際上假如你常查閱 git help 的話，你會發現 Junio C Hamano 這個名字出現的次數實在比 Linus 多很多。如果說 Linus 是 Git 之父，Jun 應該就是 Git 之母了。&lt;/p&gt;
&lt;p&gt;Jun 目前在 Google 工作，Android 或是 Chrome OS 都選擇用 Git 也算是支持自家人了。下面是他的在 &lt;a href=&#34;http://google-opensource.blogspot.com/&#34;&gt;Open Source At Google&lt;/a&gt; &lt;a href=&#34;http://google-opensource.blogspot.com/2011/03/geek-time-with-junio-c-hamano.html&#34;&gt;接受訪談&lt;/a&gt;的影片：&lt;/p&gt;
&lt;iframe width=&#34;854&#34; height=&#34;485&#34; src=&#34;//www.youtube.com/embed/qs_xS1Y6nGc&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;p&gt;附記：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Google 內部用的 VCS 應該不是秘密吧，聽說是修改過的 Perforce。&lt;/li&gt;
&lt;li&gt;訪問者啕侃了一下 Jun 為什麼 Git 這麼&lt;del datetime=&#34;2011-06-16T16:57:32+00:00&#34;&gt;難用&lt;/del&gt;不好學。 XD&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>git: content addressable filesystem</title>
      <link>https://blog.simplypatrick.com/posts/2006/2006-10-17-351/</link>
      <pubDate>Tue, 17 Oct 2006 00:00:00 UTC</pubDate>
      <author>Patrick Tsai</author>
      <guid>https://blog.simplypatrick.com/posts/2006/2006-10-17-351/</guid>
      <description>&lt;p&gt;今天花了點時間玩了一下 &lt;a href=&#34;http://en.wikipedia.org/wiki/Git_%28software%29&#34;&gt;git&lt;/a&gt;，頗有趣，我想 git 應該會成為 subversion 之外的另一個主流。因為 git 的版本號碼不再是傳統的數字編號，而是如 e2659fcf690ec693c04c82b03202fc5530d50960 這樣的十六進位數字，真是有點不習慣，還好這樣的版本號碼只要沒重複到是可以簡稱的，例如 e2659f，不然的話光打這些字就會被搞死了。&lt;/p&gt;
&lt;p&gt;不過還是有點概念沒搞清楚，這幾天再練習看看囉。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
